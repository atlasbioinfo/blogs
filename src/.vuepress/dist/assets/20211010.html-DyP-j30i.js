import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o,c as r,a as n,f as a,b as i,e as s}from"./app-B3mr5nDC.js";const d={},p=s(`<p>win10或11默认用的是wsl1.wsl2推出之后本来没有动力去升级，因为相当于开了个linux模拟器，不如wsl1来的快。但项目需要把原来的数据库换到mariaDB，所以还是需要wsl2（BTW，docker也能在wsl2上跑）。这个博客记录了安装mariadb全过程。</p><blockquote><ul><li>WSL2安装mariaDB</li><li>mariaDB的初始化</li><li>用了HeidiSQL，从此不用再写SQL</li></ul></blockquote><hr><p>写在前面：</p><ul><li><strong>数据库是啥？</strong><ul><li>数据库就是很多excel存着数据，并且查找速度还很快。</li></ul></li><li><strong>用哪个数据库？</strong><ul><li>之前我用sqlite，很方便；之后觉得效率太低换了MySQL；然后知道MySQL的主创团队更新了mariaDB，于是就换了这个。</li></ul></li><li><strong>需要学什么语言？</strong><ul><li>SQL；如果懒一点但是会python，可以用sqlalchemy；如果再懒一点，可以用phpMyAdmin或者HeidiSQL这种界面化的可以直接点击管理数据库的软件。</li></ul></li></ul><h2 id="wsl2安装mariadb" tabindex="-1"><a class="header-anchor" href="#wsl2安装mariadb"><span>WSL2安装mariaDB</span></a></h2><h3 id="确认是否是wsl2" tabindex="-1"><a class="header-anchor" href="#确认是否是wsl2"><span>确认是否是wsl2</span></a></h3><p>先确认一下自己是wsl1还是2。打开powershell，</p><div class="language-dos line-numbers-mode" data-ext="dos" data-title="dos"><pre class="language-dos"><code>#powershell中运行
wsl -l -v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.atlasbioinfo.com/wsl2_pic_1633899125259_1633899132704.png" alt="图 1" tabindex="0" loading="lazy"><figcaption>图 1</figcaption></figure>`,10),c={href:"https://docs.microsoft.com/en-us/windows/wsl/install",target:"_blank",rel:"noopener noreferrer"},m=s(`<p>注意一点，如果之前安装过ubuntu，可能需要卸载再安装，可能。虽然理论上可以通过set-defalut-version改变，但是我没成功（可能后续更新后可行）。</p><h3 id="安装mariadb" tabindex="-1"><a class="header-anchor" href="#安装mariadb"><span>安装mariadb</span></a></h3><p>一系列操作如下： 打开ubuntu</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> software-properties-common apt-transport-https <span class="token parameter variable">-y</span>
<span class="token function">curl</span> <span class="token parameter variable">-LsSO</span> https://downloads.mariadb.com/MariaDB/mariadb-keyring-2019.gpg
<span class="token function">curl</span> <span class="token parameter variable">-LsS</span> https://downloads.mariadb.com/MariaDB/mariadb-keyring-2019.gpg.sha256 <span class="token operator">|</span> sha256sum <span class="token parameter variable">-c</span>
<span class="token function">sudo</span> <span class="token function">mv</span> mariadb-keyring-2019.gpg /etc/apt/trusted.gpg.d/ <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> <span class="token number">644</span> /etc/apt/trusted.gpg.d/mariadb-keyring-2019.gpg

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>之后建立新文件<code>vim /etc/apt/sources.list.d/mariadb.list</code>, 内容是：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># MariaDB Server</span>
<span class="token comment"># To use a different major version of the server, or to pin to a specific minor version, change URI below.</span>
deb http://downloads.mariadb.com/MariaDB/mariadb-10.5/repo/ubuntu focal main
deb http://downloads.mariadb.com/MariaDB/mariadb-10.5/repo/ubuntu focal main/debug
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>之后继续用命令：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>sudo apt-get update
sudo apt-get upgrade
sudo apt-get install mariadb-server
sudo service mariadb start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装结束。</p><h2 id="mariadb初始化" tabindex="-1"><a class="header-anchor" href="#mariadb初始化"><span>mariaDB初始化</span></a></h2><p>所谓送佛送到西。第一次我跟着网上教程成功安装完成后，就结束了，完全一脸懵逼。</p><p>之后要干什么？什么创建用户？怎么链接数据库？所以我这里需要跟大家说一下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment">#打开mariadb，虽然用的是mysql</span>
<span class="token function">sudo</span> mysql
<span class="token comment">#之后进入命令行界面，开始数据mysql的命令</span>
<span class="token comment">#更改root密码</span>
ALTER <span class="token environment constant">USER</span> root@localhost IDENTIFIED VIA mysql_native_password USING PASSWORD<span class="token punctuation">(</span><span class="token string">&quot;你的root密码&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#ctrl-C 退出</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>既然有了密码，就可以用root用户正规进入了：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> mysql <span class="token parameter variable">-p</span>
<span class="token comment">#之后输入你刚才的密码</span>

<span class="token comment">#添加用户</span>
CREATE <span class="token environment constant">USER</span> <span class="token string">&#39;atlas&#39;</span>@<span class="token string">&#39;localhost&#39;</span> IDENTIFIED BY <span class="token string">&#39;用户的密码&#39;</span><span class="token punctuation">;</span>
<span class="token comment">#给这个用户所有权限（注意，这一步之后这个用户类似root，不要随意给）</span>
GRANT ALL PRIVILEGES ON *.* TO <span class="token string">&#39;atlas&#39;</span>@<span class="token string">&#39;localhost&#39;</span> WITH GRANT OPTION<span class="token punctuation">;</span>
<span class="token comment">#刷新一下</span>
FLUSH PRIVILEGES<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置完成。</p><p>是否还是有点懵逼，会弄用户了，但是怎么加数据？怎么查询？</p><p>如果不想学SQL，可以直接用各种软件。比如phpMyAdmin。我接下来需要推荐另一个win平台的开源软件，我觉得很好用，叫HeidiSQL</p><h2 id="用了heidisql-从此不用再写sql" tabindex="-1"><a class="header-anchor" href="#用了heidisql-从此不用再写sql"><span>用了HeidiSQL，从此不用再写SQL</span></a></h2>`,19),u={href:"https://www.heidisql.com/",target:"_blank",rel:"noopener noreferrer"},b=n("code",null,"Download",-1),h=s(`<p>我觉得这种软件挺不容易的。我试了很多软件，一些开源的软件，高级功能就需要付费，并且非常贵。我感觉最常用的数据库操作外，数据导入导出合并什么属于基本需求，但是很多开源软件都不行。这个软件全部免费，无付费版本，很不容易。作者辛苦了。</p><p>其实不是我不付费。而是刚开始我还在学怎么用数据库，什么概念都不知道你让我突然交个几千块我只能一脸懵逼。</p><figure><img src="https://pic.atlasbioinfo.com/heidisql_pic_1633900410639_1633900417252.png" alt="图 2" tabindex="0" loading="lazy"><figcaption>图 2</figcaption></figure><p>上图为heidiSQL的初始连接界面。进入之后：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1是本地地址，按默认走；
<span class="token number">3306</span>是默认端口号

其实需要改的就是用户名和密码，改成刚才设置的；
如果刚才没有添加用户，就直接用root和root的密码。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来导入数据、导出数据、查询都很简单，相信你点一点都会了。</p><figure><img src="https://pic.atlasbioinfo.com/logo.png" alt="博主简介" tabindex="0" loading="lazy"><figcaption>博主简介</figcaption></figure>`,7);function v(g,k){const e=l("ExternalLinkIcon");return o(),r("div",null,[p,n("p",null,[a("如果还没有升级，请参考："),n("a",c,[a("microsoft官方文档如何安装wsl"),i(e)]),a("。")]),m,n("p",null,[a("官网见："),n("a",u,[a("hedisql.com"),i(e)]),a("。可以点"),b,a("下载最新版本的。")]),h])}const _=t(d,[["render",v],["__file","20211010.html.vue"]]),S=JSON.parse('{"path":"/posts/Website/20211010.html","title":"windows的WSL2安装mariaDB","lang":"zh-CN","frontmatter":{"icon":"chrome","date":"2021-10-10T00:00:00.000Z","title":"windows的WSL2安装mariaDB","categories":["Website"],"description":"win10或11默认用的是wsl1.wsl2推出之后本来没有动力去升级，因为相当于开了个linux模拟器，不如wsl1来的快。但项目需要把原来的数据库换到mariaDB，所以还是需要wsl2（BTW，docker也能在wsl2上跑）。这个博客记录了安装mariadb全过程。 WSL2安装mariaDB mariaDB的初始化 用了HeidiSQL，从此...","head":[["meta",{"property":"og:url","content":"https://blog.atlasbioinfo.com/posts/Website/20211010.html"}],["meta",{"property":"og:site_name","content":"ATLAS生物信息博客"}],["meta",{"property":"og:title","content":"windows的WSL2安装mariaDB"}],["meta",{"property":"og:description","content":"win10或11默认用的是wsl1.wsl2推出之后本来没有动力去升级，因为相当于开了个linux模拟器，不如wsl1来的快。但项目需要把原来的数据库换到mariaDB，所以还是需要wsl2（BTW，docker也能在wsl2上跑）。这个博客记录了安装mariadb全过程。 WSL2安装mariaDB mariaDB的初始化 用了HeidiSQL，从此..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://pic.atlasbioinfo.com/wsl2_pic_1633899125259_1633899132704.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-20T11:04:46.000Z"}],["meta",{"property":"article:author","content":"Haopeng Yu"}],["meta",{"property":"article:published_time","content":"2021-10-10T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-20T11:04:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"windows的WSL2安装mariaDB\\",\\"image\\":[\\"https://pic.atlasbioinfo.com/wsl2_pic_1633899125259_1633899132704.png\\",\\"https://pic.atlasbioinfo.com/heidisql_pic_1633900410639_1633900417252.png\\",\\"https://pic.atlasbioinfo.com/logo.png\\"],\\"datePublished\\":\\"2021-10-10T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-20T11:04:46.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Haopeng Yu\\",\\"url\\":\\"https://github.com/atlasbioinfo\\"}]}"]]},"headers":[{"level":2,"title":"WSL2安装mariaDB","slug":"wsl2安装mariadb","link":"#wsl2安装mariadb","children":[{"level":3,"title":"确认是否是wsl2","slug":"确认是否是wsl2","link":"#确认是否是wsl2","children":[]},{"level":3,"title":"安装mariadb","slug":"安装mariadb","link":"#安装mariadb","children":[]}]},{"level":2,"title":"mariaDB初始化","slug":"mariadb初始化","link":"#mariadb初始化","children":[]},{"level":2,"title":"用了HeidiSQL，从此不用再写SQL","slug":"用了heidisql-从此不用再写sql","link":"#用了heidisql-从此不用再写sql","children":[]}],"git":{"createdTime":1710932686000,"updatedTime":1710932686000,"contributors":[{"name":"hyu","email":"hp.yu@outlook.com","commits":1}]},"readingTime":{"minutes":3.53,"words":1059},"filePathRelative":"posts/Website/20211010.md","localizedDate":"2021年10月10日","excerpt":"<p>win10或11默认用的是wsl1.wsl2推出之后本来没有动力去升级，因为相当于开了个linux模拟器，不如wsl1来的快。但项目需要把原来的数据库换到mariaDB，所以还是需要wsl2（BTW，docker也能在wsl2上跑）。这个博客记录了安装mariadb全过程。</p>\\n<blockquote>\\n<ul>\\n<li>WSL2安装mariaDB</li>\\n<li>mariaDB的初始化</li>\\n<li>用了HeidiSQL，从此不用再写SQL</li>\\n</ul>\\n</blockquote>\\n<hr>\\n<p>写在前面：</p>\\n<ul>\\n<li><strong>数据库是啥？</strong>\\n<ul>\\n<li>数据库就是很多excel存着数据，并且查找速度还很快。</li>\\n</ul>\\n</li>\\n<li><strong>用哪个数据库？</strong>\\n<ul>\\n<li>之前我用sqlite，很方便；之后觉得效率太低换了MySQL；然后知道MySQL的主创团队更新了mariaDB，于是就换了这个。</li>\\n</ul>\\n</li>\\n<li><strong>需要学什么语言？</strong>\\n<ul>\\n<li>SQL；如果懒一点但是会python，可以用sqlalchemy；如果再懒一点，可以用phpMyAdmin或者HeidiSQL这种界面化的可以直接点击管理数据库的软件。</li>\\n</ul>\\n</li>\\n</ul>","autoDesc":true}');export{_ as comp,S as data};
